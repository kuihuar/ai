package main

// SAGA模式（SAGA框架） go-saga https://github.com/seata/seata-go
// TCC（Try-Confirm-Cancel）框架. go-tcc
// 两阶段提交（2PC）框架
// 消息队列+最终一致性（异步消息） kafka,(kafka面试题)

// 复杂性 tcc > 2pc > saga> 异步消息
// 性能 异步消息 > tcc > 2pc > saga
// 强一致性 2pc > tcc > saga > 异步消息
// 实现难度 tcc > 2pc > saga> 异步消息
// 应场强一致 2pc
// 高性能 异步消息
下面对这些框架进行详细的对比：  

## 下面对这些框架进行详细的对比
|框架类型|	主要原理|	优点|	缺点|	适用场景|	实现示例或工具|	备注|
|--|--|--|--|--|--|--|
|SAGA模式|	通过一系列有序的本地事务实现补偿机制，保证业务一致性|	低耦合、性能较好、可异步执行|	复杂事务补偿逻辑、难调试|	业务流程中可以接受最终一致性、不需要强一致的场景|	go-saga、middleware自定义实现|	更适合微服务中的长业务链处理|
|TCC|	前置“尝试”、确认成功后“提交”、失败后“取消”|	支持较强的一致性、操作灵活|	实现复杂、性能开销大|	需要强一致性、财务等场景|	go-tcc、oceanbase TCC实现|	适合银行、支付等金融场景|
|两阶段提交（2PC）|	使所有参与方都在事务提交前达成一致|	具有原子性、强一致性|	性能成本高，容易造成阻塞|	需要保证强一致性的场景|	依赖底层数据库事务或分布式协调服务（如Zookeeper）|	由于性能较低，使用较少|
|消息队列+最终一致性|	通过异步消息机制，实现事件驱动的最终一致性|	高可用、灵活性强、扩展性好|	有一定的异步延迟、复杂的事件管理|	电子商务订单、库存同步|	Kafka、RabbitMQ、阿里云ODPS结合事件机制|	适合强松散耦合场景|