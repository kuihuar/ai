# 项目结构文档

## 项目概述

本项目是一个基于 **GoFrame v2** 框架开发的 Go Web 应用项目，采用标准的 MVC 架构模式。

## 目录结构

```
hz/
├── api/                    # API 接口定义层
│   └── hello/
│       ├── hello.go        # 接口定义接口
│       └── v1/
│           └── hello.go    # v1 版本的请求/响应结构体定义
│
├── internal/               # 内部代码（不对外暴露）
│   ├── cmd/                # 命令行入口
│   │   └── cmd.go          # 主命令定义，HTTP 服务器启动逻辑
│   │
│   ├── controller/         # 控制器层（处理 HTTP 请求）
│   │   └── hello/
│   │       ├── hello.go           # 控制器占位文件
│   │       ├── hello_new.go       # 控制器构造函数
│   │       └── hello_v1_hello.go  # Hello API 的具体实现
│   │
│   ├── service/            # 业务逻辑服务层（当前为空）
│   ├── dao/                # 数据访问层（当前为空）
│   ├── logic/              # 业务逻辑层（当前为空）
│   │
│   ├── model/              # 数据模型层
│   │   ├── do/             # 数据对象（Data Object）
│   │   └── entity/         # 实体对象（Entity）
│   │
│   ├── consts/             # 常量定义
│   │   └── consts.go
│   │
│   └── packed/             # 打包资源（由工具生成）
│       └── packed.go
│
├── manifest/               # 部署清单文件
│   ├── config/
│   │   └── config.yaml     # 应用配置文件
│   ├── deploy/
│   │   └── kustomize/      # Kubernetes 部署配置
│   │       ├── base/       # 基础配置
│   │       └── overlays/    # 环境覆盖配置
│   ├── docker/
│   │   ├── Dockerfile      # Docker 镜像构建文件
│   │   └── docker.sh       # Docker 构建脚本
│   ├── i18n/               # 国际化资源
│   └── protobuf/           # Protobuf 定义文件
│
├── resource/               # 静态资源文件
│   ├── public/             # 公共资源
│   │   ├── html/           # HTML 模板
│   │   └── resource/       # CSS、JS、图片等
│   └── template/           # 模板文件
│
├── hack/                   # 构建和开发工具脚本
│   ├── config.yaml         # 开发配置
│   ├── hack-cli.mk         # CLI 工具 Makefile
│   └── hack.mk              # 通用 Makefile
│
├── utility/                # 工具函数（当前为空）
│
├── main.go                 # 程序入口文件
├── go.mod                  # Go 模块依赖管理
├── go.sum                  # Go 模块依赖校验和
├── Makefile                # 项目构建脚本
└── README.MD               # 项目说明文档
```

## 各层职责说明

### 1. API 层 (`api/`)
- **职责**: 定义 API 接口规范，包括请求和响应的数据结构
- **特点**: 
  - 使用 GoFrame 的 `g.Meta` 标签定义路由信息
  - 支持版本管理（如 `v1/`）
  - 定义了接口契约，供 Controller 实现

### 2. Controller 层 (`internal/controller/`)
- **职责**: 处理 HTTP 请求，调用 Service 层，返回响应
- **特点**:
  - 实现 API 层定义的接口
  - 负责参数验证、请求解析
  - 调用 Service 层处理业务逻辑

### 3. Service 层 (`internal/service/`)
- **职责**: 业务逻辑处理（当前为空，可扩展）
- **特点**: 封装核心业务逻辑，可被多个 Controller 复用

### 4. DAO 层 (`internal/dao/`)
- **职责**: 数据访问对象，封装数据库操作（当前为空，可扩展）
- **特点**: 提供统一的数据访问接口

### 5. Model 层 (`internal/model/`)
- **职责**: 定义数据模型
- **结构**:
  - `do/`: 数据对象，用于数据库操作
  - `entity/`: 实体对象，用于业务逻辑

### 6. CMD 层 (`internal/cmd/`)
- **职责**: 命令行入口，启动 HTTP 服务器
- **功能**:
  - 注册路由
  - 配置中间件
  - 启动服务器

## 技术栈

- **框架**: GoFrame v2.9.7
- **语言**: Go 1.23.0
- **部署**: Docker + Kubernetes (Kustomize)
- **构建工具**: Make

## 配置文件

- **应用配置**: `manifest/config/config.yaml`
  - 服务器地址: `:8000`
  - OpenAPI 路径: `/api.json`
  - Swagger 路径: `/swagger`
  - 数据库配置: MySQL (默认连接)

## 当前功能

项目当前实现了一个简单的 Hello World API：
- **路由**: `GET /hello`
- **响应**: 返回 "Hello World!" 文本

