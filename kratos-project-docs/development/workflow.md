# 开发工作流

## 开发流程

### 1. 需求分析
- 理解业务需求
- 确定技术方案
- 评估工作量

### 2. 接口设计
- 定义 Protobuf 接口
- 设计数据模型
- 确定错误处理方案

### 3. 实现开发
- 从 Data 层开始实现
- 然后实现 Biz 层
- 最后实现 Service 层

### 4. 测试验证
- 单元测试
- 集成测试
- 接口测试

### 5. 代码审查
- 提交 PR
- 代码审查
- 修改完善

### 6. 部署上线
- 构建镜像
- 部署到环境
- 验证功能

## 开发规范

### 分支管理
- `main`：主分支，保持稳定
- `develop`：开发分支
- `feature/*`：功能分支
- `bugfix/*`：修复分支

### 提交规范
使用约定式提交（Conventional Commits）：

```
feat: 添加用户登录功能
fix: 修复用户查询 bug
docs: 更新 API 文档
refactor: 重构用户服务
test: 添加用户服务测试
chore: 更新依赖版本
```

### 代码审查检查点
1. 代码是否符合规范
2. 是否有潜在 bug
3. 性能是否合理
4. 测试是否充分
5. 文档是否更新

## 工具链

### 开发工具
- **IDE**：GoLand / VS Code
- **调试**：Delve
- **格式化**：gofmt / goimports
- **静态检查**：golangci-lint

### 构建工具
- **构建**：Makefile
- **依赖管理**：go mod
- **代码生成**：protoc, wire

### 测试工具
- **单元测试**：go test
- **覆盖率**：go test -cover
- **基准测试**：go test -bench

## 最佳实践

1. **小步提交**：频繁提交，每次提交一个完整的功能点
2. **及时重构**：发现代码问题及时重构
3. **文档同步**：代码变更时同步更新文档
4. **持续集成**：使用 CI/CD 自动化构建和测试

