# Kubernetes åŸºç¡€æ¦‚å¿µ

## ğŸ“– ä»€ä¹ˆæ˜¯ Kubernetesï¼Ÿ

Kubernetes (K8s) æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨ç¼–æ’å¹³å°ï¼Œç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚å®ƒæä¾›äº†ä¸€ä¸ªå¯ç§»æ¤ã€å¯æ‰©å±•çš„å¼€æºå¹³å°ï¼Œç”¨äºç®¡ç†å®¹å™¨åŒ–çš„å·¥ä½œè´Ÿè½½å’ŒæœåŠ¡ã€‚

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

### 1. å®¹å™¨ (Container)
å®¹å™¨æ˜¯è½»é‡çº§ã€å¯ç§»æ¤çš„è½¯ä»¶åŒ…ï¼ŒåŒ…å«è¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚

**ç‰¹ç‚¹ï¼š**
- è½»é‡çº§ï¼šæ¯”è™šæ‹Ÿæœºæ›´å°ã€æ›´å¿«
- å¯ç§»æ¤ï¼šåœ¨ä»»ä½•æ”¯æŒDockerçš„ç¯å¢ƒä¸­è¿è¡Œ
- éš”ç¦»æ€§ï¼šå®¹å™¨é—´ç›¸äº’éš”ç¦»
- ä¸€è‡´æ€§ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä¸€è‡´

### 2. Pod
Pod æ˜¯ Kubernetes ä¸­æœ€å°çš„å¯éƒ¨ç½²å•å…ƒï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ã€‚

**Pod ç‰¹ç‚¹ï¼š**
- ä¸€ä¸ª Pod å¯ä»¥åŒ…å«å¤šä¸ªå®¹å™¨
- Pod å†…çš„å®¹å™¨å…±äº«ç½‘ç»œå‘½åç©ºé—´
- Pod å†…çš„å®¹å™¨å¯ä»¥é€šè¿‡ localhost é€šä¿¡
- Pod æ˜¯ä¸´æ—¶çš„ï¼Œå¯ä»¥è¢«åˆ›å»ºã€åˆ é™¤ã€æ›¿æ¢

**ç¤ºä¾‹ Pod å®šä¹‰ï¼š**
```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-pod
  labels:
    app: nginx
spec:
  containers:
  - name: nginx
    image: nginx:latest
    ports:
    - containerPort: 80
```

### 3. Node (èŠ‚ç‚¹)
Node æ˜¯ Kubernetes é›†ç¾¤ä¸­çš„å·¥ä½œæœºå™¨ï¼Œå¯ä»¥æ˜¯ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºã€‚

**Node ç±»å‹ï¼š**
- **Master Node**: æ§åˆ¶å¹³é¢èŠ‚ç‚¹ï¼Œè¿è¡Œé›†ç¾¤æ§åˆ¶ç»„ä»¶
- **Worker Node**: å·¥ä½œèŠ‚ç‚¹ï¼Œè¿è¡Œåº”ç”¨ç¨‹åºå®¹å™¨

**Node ç»„ä»¶ï¼š**
- **kubelet**: èŠ‚ç‚¹ä»£ç†ï¼Œç®¡ç†å®¹å™¨ç”Ÿå‘½å‘¨æœŸ
- **kube-proxy**: ç½‘ç»œä»£ç†ï¼Œå®ç°æœåŠ¡æŠ½è±¡
- **Container Runtime**: å®¹å™¨è¿è¡Œæ—¶ï¼ˆå¦‚ Dockerã€containerdï¼‰

### 4. Namespace (å‘½åç©ºé—´)
Namespace æä¾›äº†ä¸€ç§åœ¨å•ä¸ªé›†ç¾¤å†…éš”ç¦»èµ„æºç»„çš„æœºåˆ¶ã€‚

**é»˜è®¤å‘½åç©ºé—´ï¼š**
- `default`: é»˜è®¤å‘½åç©ºé—´
- `kube-system`: ç³»ç»Ÿç»„ä»¶
- `kube-public`: å…¬å¼€è®¿é—®çš„èµ„æº
- `kube-node-lease`: èŠ‚ç‚¹ç§Ÿçº¦ä¿¡æ¯

**åˆ›å»ºå‘½åç©ºé—´ï¼š**
```yaml
apiVersion: v1
kind: Namespace
metadata:
  name: my-namespace
```

## ğŸ”§ åŸºæœ¬æ“ä½œ

### 1. æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯
```bash
# æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯
kubectl cluster-info

# æŸ¥çœ‹èŠ‚ç‚¹
kubectl get nodes

# æŸ¥çœ‹å‘½åç©ºé—´
kubectl get namespaces
```

### 2. åˆ›å»ºå’Œç®¡ç† Pod
```bash
# åˆ›å»º Pod
kubectl apply -f pod.yaml

# æŸ¥çœ‹ Pod
kubectl get pods

# æŸ¥çœ‹ Pod è¯¦ç»†ä¿¡æ¯
kubectl describe pod <pod-name>

# åˆ é™¤ Pod
kubectl delete pod <pod-name>
```

### 3. è¿›å…¥ Pod å®¹å™¨
```bash
# è¿›å…¥å®¹å™¨æ‰§è¡Œå‘½ä»¤
kubectl exec -it <pod-name> -- /bin/bash

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
kubectl logs <pod-name>
```

## ğŸ“Š èµ„æºå¯¹è±¡å±‚æ¬¡ç»“æ„

```
Cluster
â”œâ”€â”€ Namespace
â”‚   â”œâ”€â”€ Pod
â”‚   â”‚   â”œâ”€â”€ Container
â”‚   â”‚   â””â”€â”€ Container
â”‚   â”œâ”€â”€ Service
â”‚   â”œâ”€â”€ ConfigMap
â”‚   â””â”€â”€ Secret
â””â”€â”€ Node
    â”œâ”€â”€ Pod
    â””â”€â”€ Pod
```

## ğŸ¯ å­¦ä¹ è¦ç‚¹

### 1. ç†è§£å®¹å™¨åŒ–
- å®¹å™¨ vs è™šæ‹Ÿæœº
- Docker åŸºç¡€æ“ä½œ
- å®¹å™¨é•œåƒæ„å»º

### 2. æŒæ¡ Pod æ¦‚å¿µ
- Pod ç”Ÿå‘½å‘¨æœŸ
- Pod ç½‘ç»œæ¨¡å‹
- Pod èµ„æºé™åˆ¶

### 3. ç†Ÿæ‚‰åŸºæœ¬å‘½ä»¤
- kubectl å¸¸ç”¨å‘½ä»¤
- YAML é…ç½®æ–‡ä»¶æ ¼å¼
- èµ„æºåˆ›å»ºå’Œç®¡ç†

## ğŸ› ï¸ å®è·µç»ƒä¹ 

### ç»ƒä¹  1ï¼šåˆ›å»ºç¬¬ä¸€ä¸ª Pod
1. åˆ›å»ºä¸€ä¸ªç®€å•çš„ nginx Pod
2. éªŒè¯ Pod è¿è¡ŒçŠ¶æ€
3. è®¿é—® Pod ä¸­çš„æœåŠ¡

### ç»ƒä¹  2ï¼šå¤šå®¹å™¨ Pod
1. åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªå®¹å™¨çš„ Pod
2. è§‚å¯Ÿå®¹å™¨é—´é€šä¿¡
3. ç†è§£ Pod ç½‘ç»œæ¨¡å‹

### ç»ƒä¹  3ï¼šå‘½åç©ºé—´ç®¡ç†
1. åˆ›å»ºè‡ªå®šä¹‰å‘½åç©ºé—´
2. åœ¨å‘½åç©ºé—´ä¸­éƒ¨ç½²åº”ç”¨
3. ç†è§£èµ„æºéš”ç¦»

## ğŸ“š æ‰©å±•é˜…è¯»

- [Kubernetes å®˜æ–¹æ¦‚å¿µæ–‡æ¡£](https://kubernetes.io/docs/concepts/)
- [Docker å®¹å™¨åŸºç¡€](https://docs.docker.com/get-started/)
- [YAML è¯­æ³•æŒ‡å—](https://yaml.org/spec/)

## ğŸ¯ ä¸‹ä¸€æ­¥

æŒæ¡åŸºç¡€æ¦‚å¿µåï¼Œç»§ç»­å­¦ä¹ ï¼š
- [K8sæ¶æ„](./02-architecture/README.md)
- [K8så®‰è£…éƒ¨ç½²](./03-installation/README.md) 